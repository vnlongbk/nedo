{"version":3,"sources":["mock.js","utils.js","App.js","reportWebVitals.js","index.js","config.js"],"names":["data","name","image","nearConfig","getConfig","process","a","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","Contract","account","contractName","viewMethods","changeMethods","contract","logout","signOut","location","replace","origin","pathname","login","requestSignIn","App","useState","messages","useMessage","onSubmit","e","BOATLOAD_OF_GAS","Big","times","toFixed","addMessage","text","handleFetchMessage","getMessages","console","log","useEffect","class","isSignedIn","onClick","map","src","alt","reverse","sender","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initContract","ReactDOM","render","document","querySelector","catch","error","CONTRACT_NAME","module","exports","env","networkId","nodeUrl","walletUrl","helperUrl","explorerUrl","keyPath","HOME","masterAccount","Error"],"mappings":"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","file":"static/js/main.d767781b.chunk.js","sourcesContent":["export const data = [\n  {\n    name: 'Corentin Tolliso',\n    image:\n      'https://lh3.googleusercontent.com/e2GEwGvYnonda47AJHPYo-IesihVIA6CGHgaiiswtiYI5IAeLXWHfTPIyb3xmsBMUGWMJ8eA8ISbtAvt58uJiR1u=w326',\n  },\n  {\n    name: 'Kingsley Coman',\n    image:\n      'https://lh3.googleusercontent.com/DfSZVIK-XJSh5HTUPyInFE2GvPk6Sdkfaw1ySJb8EZb2x1iE9t8YLJmPEX7m3FqqcMEaEDKP8gMioWqZY4DW1evf=w326',\n  },\n  {\n    name: 'David Alaba',\n    image:\n      'https://lh3.googleusercontent.com/dBOl86ncWqy20gN4AVt_8G4PC-zfKR7ejQWD3uqrDGzowmZ-TaDPCikbv6QHGxxL68YX2i1ULgmvdCuMsp7l4Ls=w326',\n  },\n  {\n    name: 'Benjamin Navard',\n    image:\n      'https://lh3.googleusercontent.com/9mZ5iJWokCPi7Zm1j260JU7IL2O5P8cThRKoNPqcciGEkXYqBgOsOR64XsCDpVfG_y1eurCzsaj8u2r1Bg-JRoOb=w326',\n  },\n  {\n    name: 'Thiago',\n    image:\n      'https://lh3.googleusercontent.com/tbPOfcrl-3WoxGB6Pq9XLE1u1Xf-x8efSzPrNHaftt91KL3PQJVIIyCbXVLxagqn8YbwNh1Dl4A0W5B6PYjOoGt2=w326',\n  },\n  {\n    name: 'Serge Gnabry',\n    image:\n      'https://lh3.googleusercontent.com/p4SGS5DfBmwHFKRvFw5BJmSDBE4aEogY-FOE-_EUZ2NA1iATUzOCKO4bFoSiWApqu8VBtz5LnkNjj_DtZ0ge11Az=w326',\n  },\n  {\n    name: 'Lewandowski',\n    image:\n      'https://lh3.googleusercontent.com/Y9XxQ5GN5pJ4ULOm5ER4XYLk_JqeP1JxTa8xdLkHPr-4ZFYNDC42xXxUJmGNzq6uWbwqXSbJ_Gidt4wRpHepASX7=w326',\n  },\n  {\n    name: 'Thomas Muller',\n    image:\n      'https://lh3.googleusercontent.com/14Nz2AsfvgQH5DX72yhEauaa4J4b63aCET5aIXfjdz06vtZ5MV53roIxlx6_egjTmcjHmDhAj7ygcCWZK-icHU8=w326',\n  },\n  {\n    name: 'Kimmich',\n    image:\n      'https://lh3.googleusercontent.com/FX5_xlmd4l_4FR8bg0q0wQH8w8eAG30JTZFKB2ry0grUGYBpNLcorrdJR5VcuQR_EWL7hWgATFadUvEuVgiiYKSm=w326',\n  },\n]\n","import { connect, Contract, keyStores, WalletConnection } from 'near-api-js'\nimport getConfig from './config'\n\nconst nearConfig = getConfig(process.env.REACT_APP_NODE_ENV || 'development')\n\n// Initialize contract & set global variables\nexport async function initContract() {\n  // Initialize connection to the NEAR testnet\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearConfig\n    )\n  )\n\n  window.walletConnection = new WalletConnection(near)\n\n  window.accountId = window.walletConnection.getAccountId()\n\n  window.contract = await new Contract(\n    window.walletConnection.account(),\n    nearConfig.contractName,\n    {\n      viewMethods: ['getMessages'],\n      changeMethods: ['addMessage'],\n    }\n  )\n}\n\nexport function logout() {\n  window.walletConnection.signOut()\n  window.location.replace(window.location.origin + window.location.pathname)\n}\n\nexport function login() {\n  window.walletConnection.requestSignIn(nearConfig.contractName)\n}\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport { useEffect, useState } from 'react'\nimport { data } from './mock'\nimport { login, logout } from './utils'\nimport Big from 'big.js'\n\nfunction App() {\n  const [messages, useMessage] = useState([])\n\n  const onSubmit = async e => {\n    const BOATLOAD_OF_GAS = Big(3)\n      .times(10 ** 13)\n      .toFixed()\n\n    await window.contract.addMessage(\n      { text: `${window?.accountId} - Donated for - ${e?.name}` },\n      BOATLOAD_OF_GAS,\n      Big(1 /* near quantity */)\n        .times(10 ** 24)\n        .toFixed()\n    )\n  }\n\n  const handleFetchMessage = async () => {\n    const data = await window?.contract.getMessages()\n    console.log(data)\n    useMessage(data)\n  }\n\n  useEffect(() => {\n    // TODO: don't just fetch once; subscribe!\n\n    handleFetchMessage()\n  }, [])\n\n  return (\n    <div class=\"h-full w-full bg-gray-800\">\n      <section class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-12\">\n        <div class=\"text-center pb-12\">\n          <h1 class=\"font-bold text-3xl md:text-4xl lg:text-5xl font-heading text-white\">\n            Wellcome to Nedo - Donate your favorite player\n          </h1>\n        </div>\n        <div class=\"text-center pb-12\">\n          {!window?.walletConnection?.isSignedIn() ? (\n            <button\n              onClick={login}\n              class=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded text-2xl\"\n            >\n              Connect Ⓝ Wallet\n            </button>\n          ) : (\n            <div>\n              <h1 class=\"font-bold text-1xl md:text-4xl lg:text-5xl font-heading text-green-400\">\n                Hello - {window?.accountId}\n              </h1>\n\n              <button\n                onClick={logout}\n                class=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded text-2xl mt-8\"\n              >\n                Disconnect Wallet\n              </button>\n            </div>\n          )}\n        </div>\n        <div class=\"grid grid-cols-3 gap-6\">\n          <div class=\"grid col-span-2\">\n            <div class=\"grid xl:grid-cols-2 gap-6\">\n              {data?.map(e => (\n                <div class=\"w-full bg-gray-900 rounded-lg sahdow-lg p-12 flex flex-col justify-center items-center\">\n                  <div class=\"mb-8\">\n                    <img\n                      class=\"object-center object-cover h-50 w-36\"\n                      src={e?.image}\n                      alt=\"photo\"\n                    />\n                  </div>\n                  <div class=\"text-center\">\n                    <p class=\"text-xl text-white font-bold mb-2\">{e?.name}</p>\n                    {window?.walletConnection?.isSignedIn() && (\n                      <button\n                        onClick={() => onSubmit(e)}\n                        class=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded text-2xl mt-8\"\n                      >\n                        Donate 1 Ⓝ\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n          <div class=\"grid col-span-1 content-start gap-4\">\n            <h1 class=\"font-bold text-3xl font-heading text-white\">\n              Notification\n            </h1>\n            {messages?.reverse()?.map(\n              e =>\n                e?.text &&\n                e?.text !== 'thank you' && (\n                  <div\n                    class={`${\n                      window?.accountId === e?.sender\n                        ? 'bg-green-500'\n                        : 'bg-purple-500'\n                    } text-white font-bold py-2 px-4 rounded text-lg`}\n                  >\n                    <p>{e?.text} </p>\n                  </div>\n                )\n            )}\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nimport { initContract } from './utils'\n\nwindow.nearInitPromise = initContract()\n  .then(() => {\n    ReactDOM.render(<App />, document.querySelector('#root'))\n  })\n  .catch(console.error)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","const CONTRACT_NAME =\n  process.env.REACT_APP_CONTRACT_NAME || '[YOURNAME].testnet'\n\nfunction getConfig(env) {\n  switch (env) {\n    case 'production':\n    case 'mainnet':\n      return {\n        networkId: 'mainnet',\n        nodeUrl: 'https://rpc.mainnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.near.org',\n        helperUrl: 'https://helper.mainnet.near.org',\n        explorerUrl: 'https://explorer.mainnet.near.org',\n      }\n    case 'development':\n    case 'testnet':\n      return {\n        networkId: 'testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.testnet.near.org',\n        helperUrl: 'https://helper.testnet.near.org',\n        explorerUrl: 'https://explorer.testnet.near.org',\n      }\n    case 'betanet':\n      return {\n        networkId: 'betanet',\n        nodeUrl: 'https://rpc.betanet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.betanet.near.org',\n        helperUrl: 'https://helper.betanet.near.org',\n        explorerUrl: 'https://explorer.betanet.near.org',\n      }\n    case 'local':\n      return {\n        networkId: 'local',\n        nodeUrl: 'http://localhost:3030',\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: 'http://localhost:4000/wallet',\n        contractName: CONTRACT_NAME,\n      }\n    case 'test':\n    case 'ci':\n      return {\n        networkId: 'shared-test',\n        nodeUrl: 'https://rpc.ci-testnet.near.org',\n        contractName: CONTRACT_NAME,\n        masterAccount: 'test.near',\n      }\n    case 'ci-betanet':\n      return {\n        networkId: 'shared-test-staging',\n        nodeUrl: 'https://rpc.ci-betanet.near.org',\n        contractName: CONTRACT_NAME,\n        masterAccount: 'test.near',\n      }\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      )\n  }\n}\n\nmodule.exports = getConfig\n"],"sourceRoot":""}